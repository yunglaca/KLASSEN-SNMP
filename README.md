# SNMP Poller

–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π SNMP –ø–æ–ª–ª–µ—Ä –Ω–∞ Rust –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ —Å —Å–µ—Ç–µ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üìã –ß—Ç–æ —É–º–µ–µ—Ç —Å–µ–π—á–∞—Å

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ SNMP –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤:**
  - ‚úÖ SNMPv2c (community-based –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
  - ‚úÖ SNMPv3 (authPriv —Ä–µ–∂–∏–º—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: SHA1 + AES128) –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞ –∏–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

- **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö:**
  - **–°–∫–∞–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** - –æ–¥–∏–Ω–æ—á–Ω—ã–µ OID (sysName, sysDescr, sysUpTime –∏ —Ç.–¥.)
  - **–¢–∞–±–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** - SNMP WALK –ø–æ —Ç–∞–±–ª–∏—Ü–∞–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    - Interface Table (ifTable)
    - Storage Table (hrStorageTable)
    - Device Table (hrDeviceTable)

- **–ü—Ä–æ—Ñ–∏–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤:**
  - YAML –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –Ω–∞–±–æ—Ä–æ–º –º–µ—Ç—Ä–∏–∫ –¥–ª—è —Å–±–æ—Ä–∞
  - –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞: –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —É—Å—Ç—Ä–æ–π—Å—Ç–≤

- **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:**
  - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ sysObjectID
  - –ü—Ä–æ—Ç–æ—Ç–∏–ø "–ø–æ–¥–¥–µ—Ä–∂–∫–∏": Linux, Cisco, HP, Juniper, Huawei

- **JSON –≤—ã–≤–æ–¥:**
  - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - Summary —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
  - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
  - –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (timestamp, client_type)


## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
TBD

### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

–ü—Ä–∏–º–µ—Ä `profiles/generic-endpoint.yaml`:

```yaml
name: "—Å–µ—Ç–µ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ"
description: "–ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å"

# –°–∫–∞–ª—è—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
scalars:
  sysDescr: "1.3.6.1.2.1.1.1.0"
  sysName: "1.3.6.1.2.1.1.5.0"
  sysUpTime: "1.3.6.1.2.1.1.3.0"
  sysLocation: "1.3.6.1.2.1.1.6.0"

# –¢–∞–±–ª–∏—Ü—ã –¥–ª—è –æ–±—Ö–æ–¥–∞
tables:
  ifTable: "1.3.6.1.2.1.2.2"
  hrStorageTable: "1.3.6.1.2.1.25.2.3"
```

### –§–æ—Ä–º–∞—Ç JSON –≤—ã–≤–æ–¥–∞

```json
{
  "device_type": "auto_detected",
  "client_type": "SNMPv2c",
  "timestamp": "2026-01-18T12:00:00Z",
  "summary": {
    "total_scalars": 4,
    "successful_scalars": 4,
    "total_tables": 3,
    "successful_tables": 3,
    "total_rows": 42
  },
  "scalars": [
    {
      "name": "sysName",
      "oid": "1.3.6.1.2.1.1.5.0",
      "value": "router-01",
      "status": "success",
      "error": null
    }
  ],
  "tables": [...],
  "errors": []
}
```

## üéØ Roadmap (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

### Phase ...: HTTP API (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤–µ–± –º–æ—Ä–¥–∞)
- [ ] REST API —Å–µ—Ä–≤–µ—Ä (–ø—Ä–µ–¥–ø–æ–ª–æ–≥–∞–µ—Ç—Å—è axum)
- [ ] –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
  - TBD

## üêõ Known Issues

- [ ] –ù–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Ä–∞–±–æ—Ç—ã (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ settings.rs)
- [ ] SNMPv3: —Ç–æ–ª—å–∫–æ SHA1 + AES128, hardcoded –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç
- [ ] –ù–µ—Ç retry –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- [ ] –ù–µ—Ç —Ç–µ—Å—Ç–æ–≤

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

TBD

## üë§ –ê–≤—Ç–æ—Ä

@laca üëª
